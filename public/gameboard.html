<!DOCTYPE html>
<html>

<head>
    <title>2D Shooter</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const lobby = urlParams.get('lobby') || 'default'; 

        fetch('/env.json')
            .then(response => response.json())
            .then(config => {
                window.gameConfig = config;
                window.lobbyCode = lobby;
                const script = document.createElement('script');
                script.src = '/multiplayer-client.js';
                document.body.appendChild(script);
            });
    </script>
</head>

<body>
    <h1>2D Shooter - Lobby: <span id="lobbyDisplay"></span></h1>
    <script>
        document.getElementById('lobbyDisplay').innerText = window.lobbyCode;
    </script>
</body>

</html>
